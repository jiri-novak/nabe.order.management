<form (ngSubmit)="createOrUpdate()" #companyForm="ngForm">

    <div class="row">
        <div class="col-md-12">
            <button type="button" class="btn btn-success btn-circle" (click)="createNew()" type="button">
                <i class="glyphicon glyphicon-plus"></i>
            </button>

            <button *ngIf="model && !isEdit" class="btn btn-primary btn-sm" (click)="startEditing()" type="button">
                <span class="glyphicon glyphicon-edit" aria-hidden="true"></span>
            </button>
            <button *ngIf="model && isEdit" class="btn btn-success btn-sm" [disabled]="!companyForm.valid" type="submit">
                <span class="glyphicon glyphicon-ok" aria-hidden="true"></span>
            </button>

            <button *ngIf="model && !isEdit" class="btn btn-danger btn-sm" (click)="delete()" type="button">
                <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
            </button>
            <button *ngIf="model && isEdit" class="btn btn-warning btn-sm" (click)="cancelEditing()" type="button">
                <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
            </button>
        </div>
    </div>

    <div class="row" *ngIf="model">
        <div class="col-md-4">
            <div class="panel panel-default">
                <div class="panel-heading">Obecné</div>
                <div class="panel-body">
                    <div class="form-group">
                        <label for="name">Jméno</label>

                        <div *ngIf="!isEdit">{{model.name}}</div>

                        <div *ngIf="isEdit">
                            <input type="text" class="form-control" id="name" required [(ngModel)]="model.name" name="name" #name="ngModel">
                            <div [hidden]="name.valid || name.pristine" class="alert alert-danger">
                                Jméno je povinné
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="dic">DIČ</label>

                        <div *ngIf="!isEdit">{{model.dic}}</div>

                        <div *ngIf="isEdit">
                            <input type="text" class="form-control" id="dic" required [(ngModel)]="model.dic" name="dic" #dic="ngModel">
                            <div [hidden]="dic.valid || dic.pristine" class="alert alert-danger">
                                DIČ je povinné
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="ico">IČO</label>

                        <div *ngIf="!isEdit">{{model.ico}}</div>

                        <div *ngIf="isEdit">
                            <input type="number" class="form-control" id="ico" required [(ngModel)]="model.ico" name="ico" #ico="ngModel">
                            <div [hidden]="ico.valid || ico.pristine" class="alert alert-danger">
                                IČO je povinné
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-md-4">
            <div class="panel panel-default">
                <div class="panel-heading">Adresa</div>
                <div class="panel-body">

                    <div class="form-group">
                        <label for="street">Ulice</label>

                        <div *ngIf="!isEdit">{{model.address.street}}</div>

                        <div *ngIf="isEdit">
                            <input type="text" class="form-control" id="street" required [(ngModel)]="model.address.street" name="street" #street="ngModel">
                            <div [hidden]="street.valid || street.pristine" class="alert alert-danger">
                                Ulice je povinná
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="streetNumber">Číslo popisné</label>

                        <div *ngIf="!isEdit">{{model.address.streetNumber}}</div>

                        <div *ngIf="isEdit">
                            <input type="number" class="form-control" id="streetNumber" required [(ngModel)]="model.address.streetNumber" name="streetNumber"
                                #streetNumber="ngModel">
                            <div [hidden]="streetNumber.valid || streetNumber.pristine" class="alert alert-danger">
                                Číslo popisné je povinné
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="zipCode">PSČ</label>

                        <div *ngIf="!isEdit">{{model.address.zipCode}}</div>

                        <div *ngIf="isEdit">
                            <input type="number" class="form-control" id="zipCode" required [(ngModel)]="model.address.zipCode" name="zipCode" #zipCode="ngModel">
                            <div [hidden]="zipCode.valid || zipCode.pristine" class="alert alert-danger">
                                PSČ je povinné
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="municipality">Obec</label>

                        <div *ngIf="!isEdit">{{model.address.municipality}}</div>

                        <div *ngIf="isEdit">
                            <input type="text" class="form-control" id="municipality" required [(ngModel)]="model.address.municipality" name="municipality"
                                #municipality="ngModel">
                            <div [hidden]="municipality.valid || municipality.pristine" class="alert alert-danger">
                                Obec je povinná
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="state">Stát</label>

                        <div *ngIf="!isEdit">{{model.address.state}}</div>

                        <div *ngIf="isEdit">
                            <input type="text" class="form-control" id="state" required [(ngModel)]="model.address.state" name="state" #state="ngModel">
                            <div [hidden]="state.valid || state.pristine" class="alert alert-danger">
                                Stát je povinný
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

</form>